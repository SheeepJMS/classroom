# 线上Render数据库调试工具 - 快速部署指南

## 🚀 快速解决您的问题

根据您描述的问题：
- **分数累计问题**: 学生答对两题，只显示最后得分
- **轮次卡住问题**: 第二轮结束后点击next，round还是卡在2

## 📋 部署步骤

### 步骤1: 部署调试工具到Render

1. **登录Render控制台**
2. **创建新的Web服务**
3. **使用以下配置**:
   - **名称**: `online-debug-tool`
   - **环境**: `Python`
   - **构建命令**: `python3.11 -m pip install -r requirements.txt`
   - **启动命令**: `python3.11 online_debug.py`
   - **数据库**: 选择您现有的 `math-classroom-db`

### 步骤2: 访问调试工具

部署完成后，您会得到一个URL，例如：
```
https://online-debug-tool-xxx.onrender.com
```

### 步骤3: 使用调试工具

1. **打开调试工具URL**
2. **点击"检查分数累计问题"** - 诊断分数问题
3. **点击"检查轮次问题"** - 诊断轮次问题
4. **点击"修复分数累计"** - 修复分数问题
5. **点击"修复轮次问题"** - 修复轮次问题

## 🔍 调试工具功能

### 问题诊断
- **检查分数累计问题**: 分析学生分数是否正确累计
- **检查轮次问题**: 分析轮次编号是否正确

### 问题修复
- **修复分数累计**: 重新计算并修正学生分数
- **修复轮次问题**: 重新编号轮次，确保连续性

## 🎯 针对您的问题

### 问题1: 分数累计问题
**症状**: 学生答对两题，只显示最后得分
**解决**: 
1. 点击"检查分数累计问题"
2. 查看诊断结果
3. 点击"修复分数累计"

### 问题2: 轮次卡住问题
**症状**: 第二轮结束后点击next，round还是卡在2
**解决**:
1. 点击"检查轮次问题"
2. 查看诊断结果
3. 点击"修复轮次问题"

## 📊 调试工具界面

调试工具提供：
- **实时诊断**: 立即发现问题
- **详细报告**: 显示具体的问题数据
- **一键修复**: 自动修复常见问题
- **日志记录**: 记录所有操作

## ⚠️ 注意事项

1. **备份数据**: 修复前建议备份数据库
2. **测试环境**: 建议先在测试环境验证
3. **监控结果**: 修复后检查应用是否正常

## 🆘 如果遇到问题

1. **检查日志**: 查看调试工具的日志输出
2. **验证连接**: 确认数据库连接正常
3. **联系支持**: 提供具体的错误信息

## 🎉 预期结果

修复后，您应该看到：
- **分数正确累计**: 学生答对两题显示2分
- **轮次正常推进**: 点击next后轮次从2进入3
- **数据一致性**: 所有统计数据正确显示

**现在就开始部署调试工具，快速解决您的问题！** 🚀
